{"ast":null,"code":"import { toast } from \"react-hot-toast\";\nexport default async function login(e) {\n  let response = await fetch('http://localhost:2000/api/token/', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'email': e.target.username.value,\n      'password': e.target.password.value\n    })\n  }).catch(err => alert(err));\n  let data = await response.json();\n  console.log('data', data);\n  if (response.status === 200) {\n    localStorage.setItem('authToken', JSON.stringify(data));\n    toast.success('Login Success');\n    return data;\n  } else {\n    toast.error('Invalid User Credential');\n  }\n}\nexport function getLocal() {\n  let response = localStorage.getItem('authToken');\n  return response;\n}","map":{"version":3,"names":["toast","login","e","response","fetch","method","headers","body","JSON","stringify","target","username","value","password","catch","err","alert","data","json","console","log","status","localStorage","setItem","success","error","getLocal","getItem"],"sources":["C:/Users/MOHAMMED SHAHID KM/Desktop/brototype/python/React-django-mini-application/frontend/src/helpers/auth.js"],"sourcesContent":["import { toast } from \"react-hot-toast\";\r\nexport default async function login(e){\r\n    let response = await fetch('http://localhost:2000/api/token/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type':'application/json'\r\n                },\r\n                body: JSON.stringify({'email': e.target.username.value, 'password': e.target.password.value})\r\n            }).catch(err=>alert(err))\r\n\r\n            \r\n            let data = await response.json()\r\n            console.log('data',data);\r\n            \r\n            if(response.status === 200){\r\n                localStorage.setItem('authToken', JSON.stringify(data))\r\n                toast.success('Login Success')\r\n                return data;\r\n                \r\n            }else{\r\n                toast.error('Invalid User Credential')\r\n        }\r\n}\r\n\r\nexport function getLocal(){\r\n    let response = localStorage.getItem('authToken');\r\n    return response;\r\n}\r\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,eAAe,eAAeC,KAAKA,CAACC,CAAC,EAAC;EAClC,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;IACnDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAC;IACnB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAC,OAAO,EAAEP,CAAC,CAACQ,MAAM,CAACC,QAAQ,CAACC,KAAK;MAAE,UAAU,EAAEV,CAAC,CAACQ,MAAM,CAACG,QAAQ,CAACD;IAAK,CAAC;EAChG,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,IAAEC,KAAK,CAACD,GAAG,CAAC,CAAC;EAGzB,IAAIE,IAAI,GAAG,MAAMd,QAAQ,CAACe,IAAI,CAAC,CAAC;EAChCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAACH,IAAI,CAAC;EAExB,IAAGd,QAAQ,CAACkB,MAAM,KAAK,GAAG,EAAC;IACvBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEf,IAAI,CAACC,SAAS,CAACQ,IAAI,CAAC,CAAC;IACvDjB,KAAK,CAACwB,OAAO,CAAC,eAAe,CAAC;IAC9B,OAAOP,IAAI;EAEf,CAAC,MAAI;IACDjB,KAAK,CAACyB,KAAK,CAAC,yBAAyB,CAAC;EAC9C;AACR;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAE;EACtB,IAAIvB,QAAQ,GAAGmB,YAAY,CAACK,OAAO,CAAC,WAAW,CAAC;EAChD,OAAOxB,QAAQ;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}